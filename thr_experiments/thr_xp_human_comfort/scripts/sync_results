#!/usr/bin/env python
import rospy
import rospkg
from subprocess import check_call
from os.path import join


if __name__ == '__main__':
    rospy.init_node('sync_results')
    rospack = rospkg.RosPack()
    res_dir = join(rospack.get_path('thr_xp_human_comfort'), 'results')
    srv_dir = ('ssh://perception@3rd-hand-server.local/' +
               join('/home', 'perception', 'ros_ws', 'src', 'thr_infrastructure',
                    'thr_experiments', 'thr_xp_human_comfort', 'results'))
    # synchronize files between the two computers
    check_call(['unison', '-batch', res_dir, srv_dir])
