#!/usr/bin/env python
import rospy
import yaml
import tf
import rospkg

if __name__ == '__main__':
    rospy.init_node('shapeo_publisher')
    rospack = rospkg.RosPack()
    tfb = tf.TransformBroadcaster()
    rospy.sleep(1)

    rate = rospy.Rate(20)
    base = '/right_gripper'
    side = '/shapeo'

    with open(rospack.get_path("thr_xp_human_comfort") + "/config/shapeo_calibration.yaml") as f:
        calibration_matrix_shapeo = yaml.load(f)

    while not rospy.is_shutdown():
        tfb.sendTransform(calibration_matrix_shapeo[0], calibration_matrix_shapeo[1],
                          rospy.Time.now(), side, base)
        rate.sleep()
